---
import Layout from './Layout.astro';
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, author, image } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<Layout title={title} description={description}>
  <!-- Hero -->
  <section class="relative py-24 px-4 overflow-hidden bg-bs-surface-1">
    <div class="bs-container relative z-10 text-center max-w-4xl mx-auto">
      <div class="mb-6 flex gap-4 justify-center text-sm text-bs-foreground-light uppercase tracking-wider font-bold">
        <time datetime={pubDate.toISOString()}>{formattedDate}</time>
        <span>â€¢</span>
        <span>{author}</span>
      </div>
      
      <h1 class="font-header text-4xl md:text-5xl lg:text-6xl font-bold mb-8 text-white">{title}</h1>
      
      {image && (
        <div class="mt-12 rounded-2xl overflow-hidden shadow-2xl aspect-video relative">
            <Image src={image} alt={title} class="w-full h-full object-cover" />
            <div class="absolute inset-0 ring-1 ring-inset ring-white/10 rounded-2xl"></div>
        </div>
      )}
    </div>
  </section>

  <!-- Content -->
  <article class="bs-container py-16">
    <div class="prose prose-lg prose-invert mx-auto max-w-3xl prose-headings:font-header prose-a:text-apsu-red hover:prose-a:text-red-400 prose-img:rounded-xl">
      <slot />
    </div>
  </article>
</Layout>
