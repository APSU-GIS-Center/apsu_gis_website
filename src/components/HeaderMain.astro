---

import Logo from '../assets/theme-images/logo.svg'

const { settings } = Astro.props

---

<header class="wrapper bg-loop font-semibold">


  <!-- Wrapper -->
  <div class="bs-container py-6 flex justify-between items-center">

    <!-- Logo -->
    <a class="flex xl:min-w-32 group" href={import.meta.env.BASE_URL} aria-label={ settings.title + ' - Home' }>

      <Logo class="group-hover:-rotate-180 group-hover:scale-80 transition-transform ease-bs-spring duration-1000" height="48" width="48" />

    </a>

    <!-- Nav -->
    <nav class="hidden col-span-6 md:flex mx-auto self-stretch lg:gap-2">

      <!-- Links -->
      { settings.nav.map( item =>
        item.submenu ? (
          <div class="relative group">
            <a class="bs-btn !bg-transparent before:translate-y-full hover:before:translate-y-0 flex items-center gap-1 pr-2" href={item.link.startsWith('/') ? import.meta.env.BASE_URL.replace(/\/$/, '') + item.link : item.link}>
              { item.title }
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-70 group-hover:opacity-100 transition-opacity"><path d="m6 9 6 6 6-6"/></svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 ease-bs-spring transform origin-top translate-y-2 group-hover:translate-y-0 z-50">
              <div class="bg-bs-surface-1 border border-bs-surface-3 rounded-xl p-2 min-w-[240px] shadow-xl flex flex-col gap-1">
                { item.submenu.map( subitem => (
                  subitem.title === "â€”" ? (
                    <hr class="border-bs-surface-3 my-1" />
                  ) : (
                    <a class="block px-4 py-3 hover:bg-bs-surface-3 rounded-lg text-sm text-left text-bs-foreground-light hover:text-white transition-colors" href={subitem.link.startsWith('/') ? import.meta.env.BASE_URL.replace(/\/$/, '') + subitem.link : subitem.link}>
                      { subitem.title }
                    </a>
                  )
                ))}
              </div>
            </div>
          </div>
        ) : (
          <a class="bs-btn !bg-transparent before:translate-y-full hover:before:translate-y-0" href={item.link.startsWith('/') ? import.meta.env.BASE_URL.replace(/\/$/, '') + item.link : item.link}>
            { item.title }
          </a>
        )
      )}

    </nav>

    <!-- CTA -->
    <a href={import.meta.env.BASE_URL.replace(/\/$/, '') + "/contact"} class="min-w-32 bs-btn">

      { settings.demo.title }

    </a>

  </div>

</header>
